import{r as v,g,j as w}from"./index-DX5j9H9u.js";function y(t){this.phase=t.phase||0,this.offset=t.offset||0,this.frequency=t.frequency||.001,this.amplitude=t.amplitude||1}y.prototype.update=function(){return this.phase+=this.frequency,this.offset+Math.sin(this.phase)*this.amplitude};function E(){this.x=0,this.y=0,this.vx=0,this.vy=0}const h={friction:.5,trails:20,size:50,dampening:.25,tension:.98};function f(t,e){this.spring=t.spring+.1*Math.random()-.02,this.friction=h.friction+.01*Math.random()-.002,this.nodes=[];for(let n=0;n<h.size;n++){const s=new E;s.x=e.x,s.y=e.y,this.nodes.push(s)}}f.prototype.update=function(){let t=this.spring,e=this.nodes[0];e.vx+=(this._pos.x-e.x)*t,e.vy+=(this._pos.y-e.y)*t;for(let n=0;n<this.nodes.length;n++){if(e=this.nodes[n],n>0){const s=this.nodes[n-1];e.vx+=(s.x-e.x)*t,e.vy+=(s.y-e.y)*t,e.vx+=s.vx*h.dampening,e.vy+=s.vy*h.dampening}e.vx*=this.friction,e.vy*=this.friction,e.x+=e.vx,e.y+=e.vy,t*=h.tension}};f.prototype.draw=function(t){let e=this.nodes[0].x,n=this.nodes[0].y;t.beginPath(),t.moveTo(e,n);for(let o=1;o<this.nodes.length-2;o++){const r=this.nodes[o],u=this.nodes[o+1];e=.5*(r.x+u.x),n=.5*(r.y+u.y),t.quadraticCurveTo(r.x,r.y,e,n)}const s=this.nodes[this.nodes.length-2],a=this.nodes[this.nodes.length-1];t.quadraticCurveTo(s.x,s.y,a.x,a.y),t.stroke(),t.closePath()};const L=()=>{const t=v.useRef(null),e=g();return v.useEffect(()=>{if(e)return;const n=t.current;if(!n)return;const s=n.getContext("2d");if(!s)return;let a=!0;const o={x:0,y:0};let r=[],u=!1;const m=new y({phase:Math.random()*2*Math.PI,amplitude:40,frequency:.0015,offset:215}),l=()=>{n.width=window.innerWidth,n.height=window.innerHeight};l();const x=()=>{r=[];for(let i=0;i<h.trails;i++){const d=new f({spring:.4+i/h.trails*.025},o);d._pos=o,r.push(d)}},c=i=>{"touches"in i&&i.touches.length?(o.x=i.touches[0].pageX,o.y=i.touches[0].pageY):"clientX"in i&&(o.x=i.clientX,o.y=i.clientY),u||(u=!0,x())},p=()=>{if(!a)return;s.globalCompositeOperation="source-over",s.clearRect(0,0,n.width,n.height),s.globalCompositeOperation="lighter";const i=m.update();s.strokeStyle=`hsla(${Math.round(i)}, 70%, 55%, 0.25)`,s.lineWidth=1;for(const d of r)d.update(),d.draw(s);requestAnimationFrame(p)};return document.addEventListener("mousemove",c,{passive:!0}),document.addEventListener("touchmove",c,{passive:!0}),window.addEventListener("resize",l),p(),()=>{a=!1,document.removeEventListener("mousemove",c),document.removeEventListener("touchmove",c),window.removeEventListener("resize",l)}},[e]),e?null:w.jsx("canvas",{ref:t,className:"fixed inset-0 z-[30] pointer-events-none",style:{width:"100vw",height:"100vh"}})};export{L as default};
